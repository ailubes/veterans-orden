# 🚶 USER FLOWS
## Мережа Вільних Людей — Key User Journeys

**Version:** 1.0  
**Last Updated:** December 2024  
**Reference:** PRD_merezha.md

---

## Table of Contents

1. [Registration Flows](#1-registration-flows)
2. [Authentication](#2-authentication)
3. [Onboarding](#3-onboarding)
4. [Payment Flow](#4-payment-flow)
5. [Referral System](#5-referral-system)
6. [Voting Flow](#6-voting-flow)
7. [Event RSVP Flow](#7-event-rsvp-flow)
8. [Task Management](#8-task-management)
9. [Challenge Participation](#9-challenge-participation)
10. [Admin Workflows](#10-admin-workflows)
11. [Notifications](#11-notifications)
12. [Error States](#12-error-states)

---

## 1. Registration Flows

### 1.1 Overview

```
┌─────────────────────────────────────────────────────────────────┐
│                     REGISTRATION PATHS                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   HOMEPAGE                                                      │
│      │                                                          │
│      ├──► [Доєднатись] ──► Full Registration Flow              │
│      │                                                          │
│      └──► [Реферальне посилання] ──► Registration + Referral   │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   ACCOUNT TYPES:                                                │
│                                                                 │
│   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
│   │ FREE VIEWER │    │   MEMBER    │    │   MEMBER    │       │
│   │  (no pay)   │    │  (49 UAH)   │    │ (100-500)   │       │
│   │             │    │             │    │             │       │
│   │ View only   │    │ Full access │    │ Full access │       │
│   │ No voting   │    │ + Voting    │    │ + Perks     │       │
│   └─────────────┘    └─────────────┘    └─────────────┘       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 1.2 Full Registration Flow

```
┌─────────────────────────────────────────────────────────────────┐
│ STEP 1: BASIC INFO (Clerk)                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  📧 Email *                    [                    ]   │   │
│  │  📱 Phone                      [+380              ]     │   │
│  │  🔒 Password *                 [••••••••••••••••••]     │   │
│  │  🔒 Confirm Password *         [••••••••••••••••••]     │   │
│  │                                                         │   │
│  │  🎁 Referral Code (optional)   [           ]            │   │
│  │     └── Auto-filled if came from referral link          │   │
│  │                                                         │   │
│  │  ☑️ Погоджуюсь з умовами використання                  │   │
│  │                                                         │   │
│  │  [          ПРОДОВЖИТИ →          ]                     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  Validation:                                                    │
│  • Email: Valid format, not already registered                 │
│  • Phone: Valid Ukrainian format (+380XXXXXXXXX)               │
│  • Password: Min 8 chars, 1 uppercase, 1 number               │
│  • Referral: Valid code if provided                            │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ STEP 2: ACCOUNT TYPE                                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Оберіть тип облікового запису:                                │
│                                                                 │
│  ┌─────────────────────────┐  ┌─────────────────────────┐     │
│  │  👁️ БЕЗКОШТОВНИЙ        │  │  👤 ЧЛЕН МЕРЕЖІ         │     │
│  │     ГЛЯДАЧ              │  │                         │     │
│  │                         │  │  від 49 ₴/місяць       │     │
│  │  • Читати новини        │  │                         │     │
│  │  • Бачити події         │  │  • Голосувати          │     │
│  │  • Слідкувати за        │  │  • Брати участь у      │     │
│  │    прогресом            │  │    подіях              │     │
│  │                         │  │  • Запрошувати друзів  │     │
│  │  ❌ Без голосування     │  │  • Отримувати бали     │     │
│  │  ❌ Без участі          │  │  • Впливати на рішення │     │
│  │                         │  │                         │     │
│  │  [  ОБРАТИ  ]           │  │  [  ОБРАТИ  ] ←        │     │
│  └─────────────────────────┘  └─────────────────────────┘     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
              ┌───────────────┴───────────────┐
              │                               │
              ▼                               ▼
┌──────────────────────┐      ┌──────────────────────────────────┐
│ FREE VIEWER PATH     │      │ MEMBER PATH                      │
├──────────────────────┤      ├──────────────────────────────────┤
│                      │      │                                  │
│ Skip to Step 6       │      │ Continue to Step 3               │
│ (Email verification) │      │                                  │
│                      │      │                                  │
└──────────────────────┘      └──────────────────────────────────┘
                                              │
                                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ STEP 3: PERSONAL DETAILS                                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  👤 Ім'я *                     [                    ]   │   │
│  │  👤 Прізвище *                 [                    ]   │   │
│  │  👤 По батькові                [                    ]   │   │
│  │                                                         │   │
│  │  📍 Область *                  [ Оберіть область   ▼]   │   │
│  │  🏙️ Місто                      [                    ]   │   │
│  │                                                         │   │
│  │  [          ПРОДОВЖИТИ →          ]                     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  • Oblast dropdown with all 25 Ukrainian regions               │
│  • City is optional text field                                 │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ STEP 4: MEMBERSHIP TIER                                         │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Оберіть рівень підтримки:                                     │
│                                                                 │
│  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐      │
│  │  49 ₴    │ │  100 ₴   │ │  200 ₴   │ │  500 ₴   │      │
│  │  /місяць │ │  /місяць │ │  /місяць │ │  /місяць │      │
│  │          │ │          │ │          │ │          │      │
│  │ БАЗОВИЙ  │ │ПІДТРИМКА │ │ПІДТРИМКА+│ │ МЕЦЕНАТ  │      │
│  │    ✓     │ │          │ │          │ │          │      │
│  │          │ │ + Подяка │ │ + Згадка │ │+ Особиста│      │
│  │ Повний   │ │   на     │ │    у     │ │  подяка  │      │
│  │ доступ   │ │  сайті   │ │  звітах  │ │          │      │
│  │          │ │          │ │          │ │          │      │
│  └───────────┘ └───────────┘ └───────────┘ └───────────┘      │
│       ▲                                                         │
│       └── Selected by default                                   │
│                                                                 │
│  💡 Всі рівні мають однакові права голосу                      │
│                                                                 │
│  ☐ Оплатити за рік (-10%): 529 ₴ замість 588 ₴                │
│                                                                 │
│  [          ПЕРЕЙТИ ДО ОПЛАТИ →          ]                     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ STEP 5: PAYMENT (LiqPay)                                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │         [LIQPAY PAYMENT WIDGET]                        │   │
│  │                                                         │   │
│  │  ┌─────────────────────────────────────────────┐       │   │
│  │  │  💳 Номер картки                            │       │   │
│  │  │  [                                      ]   │       │   │
│  │  │                                             │       │   │
│  │  │  MM/YY          CVV                         │       │   │
│  │  │  [    ]         [   ]                       │       │   │
│  │  │                                             │       │   │
│  │  │  Сума: 49.00 UAH                           │       │   │
│  │  │  Періодичність: щомісяця                   │       │   │
│  │  │                                             │       │   │
│  │  │  [       ОПЛАТИТИ 49 ₴       ]             │       │   │
│  │  └─────────────────────────────────────────────┘       │   │
│  │                                                         │   │
│  │  🔒 Захищено LiqPay                                    │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  Alternative: [Оплатити через Monobank]                        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ STEP 6: EMAIL VERIFICATION                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │              📧                                         │   │
│  │                                                         │   │
│  │     Підтвердіть вашу електронну пошту                  │   │
│  │                                                         │   │
│  │     Ми надіслали лист на:                              │   │
│  │     user@example.com                                    │   │
│  │                                                         │   │
│  │     Перейдіть за посиланням у листі,                   │   │
│  │     щоб завершити реєстрацію.                          │   │
│  │                                                         │   │
│  │     [Надіслати повторно]   [Змінити email]             │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  • Auto-redirects after verification                           │
│  • Resend limit: 3 times per 10 minutes                       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ STEP 7: PHONE VERIFICATION (Optional for higher trust)          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │     📱 Підтвердіть номер телефону                      │   │
│  │                                                         │   │
│  │     Введіть код з SMS:                                 │   │
│  │                                                         │   │
│  │     [ 1 ] [ 2 ] [ 3 ] [ 4 ] [ 5 ] [ 6 ]               │   │
│  │                                                         │   │
│  │     Код надіслано на +380 XX XXX XX XX                 │   │
│  │                                                         │   │
│  │     [Надіслати повторно через 0:45]                    │   │
│  │                                                         │   │
│  │     [Пропустити цей крок →]                            │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
                        ONBOARDING
```

### 1.3 Referral Registration

```
User clicks referral link: freepeople.org.ua/join?ref=ABC123
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  🎁 Вас запросив Олександр П.                                  │
│                                                                 │
│  Олександр вже член Мережі Вільних Людей і запрошує вас       │
│  доєднатись до руху за право на самозахист.                    │
│                                                                 │
│  [       ПРИЄДНАТИСЬ ДО МЕРЕЖІ       ]                         │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
              Standard registration flow
              (referral code auto-filled)
                              │
                              ▼
              On completion:
              • Referrer's referral_count += 1
              • Referrer gets +25 points
              • New user linked to referrer
              • Referrer notified
```

---

## 2. Authentication

### 2.1 Sign In Flow

```
┌─────────────────────────────────────────────────────────────────┐
│ SIGN IN                                                         │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │     Вхід до Мережі                                     │   │
│  │                                                         │   │
│  │     📧 Email                                            │   │
│  │     [                                          ]        │   │
│  │                                                         │   │
│  │     🔒 Пароль                                           │   │
│  │     [                                          ]        │   │
│  │                                                         │   │
│  │     [Забули пароль?]                                   │   │
│  │                                                         │   │
│  │     [            УВІЙТИ            ]                    │   │
│  │                                                         │   │
│  │     ─────────── або ───────────                        │   │
│  │                                                         │   │
│  │     [G] Увійти через Google                            │   │
│  │                                                         │   │
│  │     Ще не зареєстровані? [Створити акаунт]            │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ POST-LOGIN ROUTING                                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Check user status:                                             │
│                                                                 │
│  status = "pending" AND payment incomplete                      │
│     └──► Redirect to /onboarding/payment                       │
│                                                                 │
│  status = "pending" AND verification incomplete                 │
│     └──► Redirect to /onboarding/verify                        │
│                                                                 │
│  status = "active"                                              │
│     └──► Redirect to /dashboard                                │
│                                                                 │
│  status = "suspended"                                           │
│     └──► Show suspension notice with appeal option             │
│                                                                 │
│  role = "admin" | "super_admin"                                │
│     └──► Option to go to /admin                                │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 2.2 Password Reset

```
[Забули пароль?]
       │
       ▼
┌──────────────────────┐
│ Enter email          │
│ [              ]     │
│ [Send reset link]    │
└──────────────────────┘
       │
       ▼
Email sent with reset link
       │
       ▼
┌──────────────────────┐
│ New password         │
│ [              ]     │
│ Confirm password     │
│ [              ]     │
│ [Reset password]     │
└──────────────────────┘
       │
       ▼
Redirect to sign-in
```

---

## 3. Onboarding

### 3.1 New Member Onboarding

```
┌─────────────────────────────────────────────────────────────────┐
│ ONBOARDING FLOW (After registration)                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Progress: [████████░░░░░░░░] Step 1 of 4                       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ STEP 1: WELCOME VIDEO                                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │     🎬 [YouTube Video Embed]                           │   │
│  │                                                         │   │
│  │     "Ласкаво просимо до Мережі Вільних Людей"         │   │
│  │                                                         │   │
│  │     2:34 / 5:00                                        │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  [Skip] [Video watched ✓]                                      │
│                                                                 │
│  [            ДАЛІ →            ]                               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ STEP 2: HOW IT WORKS                                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Як працює Мережа:                                             │
│                                                                 │
│  ┌─────────┐    ┌─────────┐    ┌─────────┐                    │
│  │    1    │───►│    2    │───►│    3    │                    │
│  │         │    │         │    │         │                    │
│  │ Гуртуй  │    │ Голосуй │    │ Впливай │                    │
│  │  людей  │    │   за    │    │   на    │                    │
│  │         │    │ вимоги  │    │політиків│                    │
│  └─────────┘    └─────────┘    └─────────┘                    │
│                                                                 │
│  💡 Кожен член Мережі має рівний голос                        │
│  💡 Чим більше нас — тим сильніший наш вплив                  │
│  💡 Запрошуй друзів та отримуй бали                           │
│                                                                 │
│  [            ДАЛІ →            ]                               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ STEP 3: YOUR REFERRAL LINK                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  🎁 Ваше перше завдання: запросіть друзів!                    │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │  Ваше реферальне посилання:                            │   │
│  │                                                         │   │
│  │  https://freepeople.org.ua/join?ref=ABC123    [Copy]   │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  [📱 Telegram]  [📘 Facebook]  [📲 Viber]  [🔗 Копіювати]     │
│                                                                 │
│  +25 балів за кожного запрошеного друга!                       │
│                                                                 │
│  [            ДАЛІ →            ]                               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ STEP 4: JOIN YOUR REGION                                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Приєднайтесь до вашого регіонального осередку:                │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │  📍 Київська область                                   │   │
│  │                                                         │   │
│  │  Членів: 890                                           │   │
│  │  Лідер: Олександр Петренко                             │   │
│  │                                                         │   │
│  │  Найближча подія:                                      │   │
│  │  🗓️ 24 грудня — Онлайн-зустріч                         │   │
│  │                                                         │   │
│  │  [  ПРИЄДНАТИСЬ ДО ОСЕРЕДКУ  ]                         │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  [Пропустити]                                                  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ ONBOARDING COMPLETE                                             │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│           🎉                                                    │
│                                                                 │
│     Вітаємо, Олександре!                                       │
│                                                                 │
│     Ви тепер член Мережі Вільних Людей                        │
│                                                                 │
│     Член #4,570                                                │
│                                                                 │
│     [        ПЕРЕЙТИ ДО КАБІНЕТУ        ]                      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
                    /dashboard (Member Dashboard)
```

---

## 4. Payment Flow

### 4.1 Initial Membership Payment

```
┌─────────────────────────────────────────────────────────────────┐
│ PAYMENT FLOW                                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  1. User selects tier (49/100/200/500 UAH)                     │
│  2. Create payment record (status: pending)                    │
│  3. Generate LiqPay form data + signature                      │
│  4. Redirect to LiqPay widget                                  │
│  5. User completes payment                                      │
│  6. LiqPay webhook → /api/webhooks/liqpay                      │
│  7. Verify signature                                           │
│  8. Update payment status: completed                           │
│  9. Update user:                                                │
│     - status: active                                           │
│     - role: full_member (or silent_member)                     │
│     - membershipPaidUntil: +1 month                            │
│     - memberSince: now()                                       │
│  10. Send confirmation email                                    │
│  11. Redirect to success page                                  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 4.2 Payment States

```
┌───────────────┐     ┌───────────────┐     ┌───────────────┐
│   PENDING     │────►│  PROCESSING   │────►│  COMPLETED    │
│               │     │               │     │               │
│ Payment       │     │ User at       │     │ Webhook       │
│ created       │     │ LiqPay        │     │ received      │
└───────────────┘     └───────────────┘     └───────────────┘
                              │
                              │ (timeout/error)
                              ▼
                      ┌───────────────┐
                      │    FAILED     │
                      │               │
                      │ Show retry    │
                      │ option        │
                      └───────────────┘
```

### 4.3 Subscription Renewal

```
┌─────────────────────────────────────────────────────────────────┐
│ AUTO-RENEWAL FLOW                                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  CRON JOB (daily):                                              │
│                                                                 │
│  1. Find users where membershipPaidUntil < now() + 3 days      │
│  2. For each user:                                              │
│     a. If has active subscription → LiqPay charges auto        │
│     b. Else → Send reminder email                              │
│                                                                 │
│  REMINDER SCHEDULE:                                             │
│  • 7 days before: "Subscription expiring soon"                 │
│  • 3 days before: "Renew to keep voting rights"                │
│  • 1 day before: "Last chance to renew"                        │
│  • Day of: "Membership expired"                                │
│                                                                 │
│  ON EXPIRATION:                                                 │
│  • role: full_member → silent_member (if was paying)           │
│  • role: silent_member → free_viewer                           │
│  • Lose voting rights                                          │
│  • Keep account and data                                        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 5. Referral System

### 5.1 Referral Link Generation

```
On user creation:
  referralCode = generateCode(8) // e.g., "ABC12345"
  referralLink = "https://freepeople.org.ua/join?ref=" + referralCode
```

### 5.2 Referral Tracking Flow

```
┌─────────────────────────────────────────────────────────────────┐
│ REFERRAL FLOW                                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  REFERRER (Олександр)           REFEREE (Марія)                │
│                                                                 │
│  1. Share link ───────────────► 2. Click link                  │
│     ABC123                         ?ref=ABC123                  │
│                                                                 │
│                                 3. Register                     │
│                                    referredById = Олександр     │
│                                                                 │
│  5. Get notification ◄───────── 4. Complete payment             │
│     "Марія joined!"                                             │
│                                                                 │
│  6. Receive points                                              │
│     +25 points                                                  │
│     referralCount += 1                                          │
│                                                                 │
│  IF Марія pays:                                                 │
│  7. Олександр gets bonus                                       │
│     +50 points                                                  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 5.3 Referral Dashboard

```
┌─────────────────────────────────────────────────────────────────┐
│ 🔗 РЕФЕРАЛИ                                                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Ваше посилання:                                               │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ https://freepeople.org.ua/join?ref=ABC123      [Copy]   │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  [Telegram] [Facebook] [Viber] [WhatsApp] [QR Code]            │
│                                                                 │
│  ┌─────────────┬─────────────┬─────────────┐                   │
│  │   ВСЬОГО    │   АКТИВНИХ  │  ОЧІКУЮТЬ   │                   │
│  │     12      │      10     │      2      │                   │
│  └─────────────┴─────────────┴─────────────┘                   │
│                                                                 │
│  Зароблено балів: 425                                          │
│                                                                 │
│  Останні реферали:                                             │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ ✓ Марія К.      15 грудня     Активний    +50 балів    │   │
│  │ ○ Іван П.       18 грудня     Очікує...    —           │   │
│  │ ✓ Олег С.       12 грудня     Активний    +50 балів    │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 6. Voting Flow

### 6.1 View Active Votes

```
┌─────────────────────────────────────────────────────────────────┐
│ 🗳️ ГОЛОСУВАННЯ                                                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  [Активні]  [Завершені]  [Мої голоси]                          │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 🔴 АКТИВНЕ  🔒 АНОНІМНЕ      Завершується: 25.12, 23:59 │   │
│  │                                                         │   │
│  │ Затвердження Положення про праймеріз                   │   │
│  │                                                         │   │
│  │ Участь: 1,234 / 4,569 (27%)                            │   │
│  │ Кворум: 50% необхідно                                  │   │
│  │                                                         │   │
│  │ [        ГОЛОСУВАТИ →        ]     Ви ще не голосували │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 🔴 АКТИВНЕ  👁️ ПУБЛІЧНЕ      Завершується: 28.12, 23:59│   │
│  │                                                         │   │
│  │ Вибір кандидата на посаду регіонального лідера         │   │
│  │                                                         │   │
│  │ Участь: 456 / 890 (51%)                                │   │
│  │ ⚠️ Ваш голос буде видно всім членам                    │   │
│  │                                                         │   │
│  │ [        ГОЛОСУВАТИ →        ]     Ви ще не голосували │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 6.2 Cast Vote Flow

```
┌─────────────────────────────────────────────────────────────────┐
│ CAST VOTE                                                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  🗳️ Затвердження Положення про праймеріз                       │
│                                                                 │
│  Чи підтримуєте ви запропоноване Положення про проведення      │
│  внутрішніх праймеріз Мережі?                                  │
│                                                                 │
│  📄 [Переглянути повний документ]                               │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │  ○ ЗА (Підтримую)                                      │   │
│  │                                                         │   │
│  │  ○ ПРОТИ (Не підтримую)                                │   │
│  │                                                         │   │
│  │  ○ УТРИМУЮСЬ                                           │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  🔒 Голосування анонімне                                       │
│  ⚠️ Ваш голос остаточний і не може бути змінений              │
│                                                                 │
│  [           ПІДТВЕРДИТИ ГОЛОС           ]                     │
│                                                                 │
│  Голосування завершується: 25 грудня 2024, 23:59               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ CONFIRMATION MODAL                                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │     Ви обрали: ЗА (Підтримую)                          │   │
│  │                                                         │   │
│  │     ⚠️ Цю дію неможливо скасувати.                     │   │
│  │     Ваш голос буде зараховано остаточно.               │   │
│  │                                                         │   │
│  │     [Скасувати]     [ПІДТВЕРДИТИ]                      │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│ VOTE RECORDED                                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│           ✓                                                     │
│                                                                 │
│     Ваш голос зараховано!                                      │
│                                                                 │
│     Дякуємо за участь у голосуванні.                          │
│     Результати будуть оголошені 26 грудня.                     │
│                                                                 │
│     [  Повернутись до списку голосувань  ]                     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 6.3 Vote Backend Flow

```
POST /api/votes/{voteId}/cast
{
  "optionId": "uuid-of-selected-option"
}

Backend:
1. Verify user is authenticated
2. Verify user role is in vote.eligibleRoles
3. Verify user.oblastId is in vote.eligibleOblasts (if set)
4. Verify vote.status === "active"
5. Verify now() < vote.endDate
6. Check user hasn't voted (userVotes table)
7. BEGIN TRANSACTION
   a. Insert into userVotes
   b. Increment voteOptions.voteCount
   c. Increment votes.totalVotes
   d. Update Convex real-time stats
   e. Add points to user (+10)
8. COMMIT
9. Return success

Error cases:
- 401: Not authenticated
- 403: Not eligible to vote
- 409: Already voted
- 410: Vote closed
```

### 6.4 View Results

```
┌─────────────────────────────────────────────────────────────────┐
│ VOTE RESULTS (After vote closes)                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ✅ ЗАВЕРШЕНО                             Завершено: 25.12.2024 │
│                                                                 │
│  Затвердження Положення про праймеріз                          │
│                                                                 │
│  Участь: 2,845 / 4,569 (62%) — Кворум досягнуто ✓              │
│                                                                 │
│  РЕЗУЛЬТАТИ:                                                    │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │  ЗА (Підтримую)                                        │   │
│  │  [████████████████████████████████████] 89%            │   │
│  │  2,532 голоси                                          │   │
│  │                                                         │   │
│  │  ПРОТИ (Не підтримую)                                  │   │
│  │  [████] 8%                                              │   │
│  │  228 голосів                                           │   │
│  │                                                         │   │
│  │  УТРИМАЛИСЬ                                            │   │
│  │  [██] 3%                                                │   │
│  │  85 голосів                                            │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ✓ РІШЕННЯ ПРИЙНЯТО — Положення затверджено                   │
│                                                                 │
│  Ви голосували: ЗА ✓                                           │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 7. Event RSVP Flow

### 7.1 View Event

```
┌─────────────────────────────────────────────────────────────────┐
│ EVENT DETAIL                                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  🟢 ОНЛАЙН                               📅 24 грудня, 19:00   │
│                                                                 │
│  Онлайн-зустріч Київського осередку                            │
│                                                                 │
│  Щотижнева зустріч членів Київського осередку для обговорення  │
│  поточних справ та координації дій.                            │
│                                                                 │
│  📍 Zoom (посилання після реєстрації)                          │
│  ⏱️ 1 година                                                    │
│  👥 Організатор: Олександр Петренко                            │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │  45 йдуть  •  12 можливо                               │   │
│  │                                                         │   │
│  │  [  ✓ ЙДУ  ]  [ МОЖЛИВО ]  [ НЕ ЙДУ ]                 │   │
│  │       ▲                                                 │   │
│  │       └── Currently selected                            │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  [📅 Додати до календаря]  [🔗 Поділитися]                     │
│                                                                 │
│  УЧАСНИКИ (45):                                                │
│  👤 Олександр П.  👤 Марія К.  👤 Іван С.  [+42]              │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 7.2 RSVP Flow

```
User clicks [✓ ЙДУ]
       │
       ▼
┌──────────────────────────────────────┐
│ POST /api/events/{eventId}/rsvp      │
│ { "status": "going" }                │
└──────────────────────────────────────┘
       │
       ▼
Backend:
1. Upsert into eventRsvps
2. Update event.goingCount / maybeCount
3. Update Convex real-time
4. If first RSVP → Add +5 points
5. Send confirmation email with details
       │
       ▼
┌──────────────────────────────────────┐
│ UI Update:                           │
│ • Button shows selected state        │
│ • Counter updates                    │
│ • Show "Додано до календаря" toast   │
└──────────────────────────────────────┘
```

### 7.3 Event Reminders

```
CRON: Check events starting in next 24h and 1h

24h before:
  → Push notification: "Завтра: Онлайн-зустріч Київського осередку"
  → Email with event details + calendar link

1h before:
  → Push notification: "Через годину: Онлайн-зустріч..."
  → Include meeting link for online events
```

---

## 8. Task Management

### 8.1 View Available Tasks

```
┌─────────────────────────────────────────────────────────────────┐
│ ✅ ЗАВДАННЯ                                                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  [Мої]  [Доступні]  [Завершені]                                │
│                                                                 │
│  МОЇ АКТИВНІ ЗАВДАННЯ:                                         │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ □ Запросити 3 нових членів цього тижня                 │   │
│  │   🏆 +50 балів  │  До: 25 грудня                        │   │
│  │   Прогрес: 2/3 [██████████████░░░░░]                   │   │
│  │   [Детальніше]                                          │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ □ Поділитись новиною в соцмережах                      │   │
│  │   🏆 +20 балів  │  До: 20 грудня                        │   │
│  │   [Позначити виконаним] [Детальніше]                   │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ДОСТУПНІ ЗАВДАННЯ:                                            │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ Допомогти з організацією події в Києві                 │   │
│  │   🏆 +100 балів  │  Потрібно волонтерів: 5             │   │
│  │   [Взяти завдання]                                      │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 8.2 Complete Task Flow

```
User clicks [Позначити виконаним]
       │
       ▼
┌─────────────────────────────────────────────────────────────────┐
│ TASK COMPLETION                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Завдання: Поділитись новиною в соцмережах                     │
│                                                                 │
│  IF task.requiresProof:                                        │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │  📷 Завантажте підтвердження (скріншот публікації):    │   │
│  │                                                         │   │
│  │  [Drag & drop or click to upload]                      │   │
│  │                                                         │   │
│  │  або вставте посилання на публікацію:                  │   │
│  │  [                                              ]       │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ELSE:                                                          │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │  ✓ Підтвердити виконання завдання                      │   │
│  │                                                         │   │
│  │  Нагорода: +20 балів                                   │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  [Скасувати]                    [ПІДТВЕРДИТИ ВИКОНАННЯ]        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
Backend:
1. Update task.status = "completed"
2. Update task.completedAt = now()
3. Add points to user
4. Check if task is part of challenge → update progress
5. Notify task creator (for group/admin tasks)
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│           🎉                                                    │
│                                                                 │
│     Завдання виконано!                                         │
│     +20 балів                                                  │
│                                                                 │
│     Загальна кількість балів: 870                              │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 9. Challenge Participation

### 9.1 View Active Challenge

```
┌─────────────────────────────────────────────────────────────────┐
│ 🏆 ЧЕЛЕНДЖ ТИЖНЯ                                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Запросіть 3 друзів до Мережі                                  │
│  16 - 22 грудня                                                │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │  ВАШ ПРОГРЕС:                                          │   │
│  │                                                         │   │
│  │  [██████████████████░░░░░░] 2 з 3                      │   │
│  │                                                         │   │
│  │  Ваш рейтинг: #45 з 234 учасників                      │   │
│  │                                                         │   │
│  │  Нагорода: 🏅 "Рекрутер тижня" + 100 балів             │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  🏆 ЛІДЕРИ:                                                    │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  🥇 Олександр П.  — 12 рефералів                       │   │
│  │  🥈 Марія К.      — 9 рефералів                        │   │
│  │  🥉 Іван С.       — 7 рефералів                        │   │
│  │  4. Петро В.      — 6 рефералів                        │   │
│  │  5. Ольга М.      — 5 рефералів                        │   │
│  │  ...                                                    │   │
│  │  45. Ви          — 2 рефералів                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  [🔗 Поділитись реферальним посиланням]                        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 9.2 Challenge Completion

```
When user reaches challenge goal:

1. Mark challengeParticipant.completedAt = now()
2. Award challenge.points to user
3. If challenge.badgeId → add to user_achievements
4. Send congratulation notification
5. Update leaderboard in Convex

┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│           🎉                                                    │
│                                                                 │
│     Челендж завершено!                                         │
│                                                                 │
│     Ви запросили 3 друзів і отримуєте:                        │
│                                                                 │
│     🏅 Бейдж "Рекрутер тижня"                                  │
│     +100 балів                                                 │
│                                                                 │
│     [Поділитись досягненням]                                   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 10. Admin Workflows

### 10.1 Create Vote

```
Admin Dashboard → Votes → [+ Нове голосування]

┌─────────────────────────────────────────────────────────────────┐
│ CREATE VOTE                                                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  STEP 1: Basic Info                                             │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  Назва *                                                │   │
│  │  [                                                  ]   │   │
│  │                                                         │   │
│  │  Опис                                                   │   │
│  │  [                                                  ]   │   │
│  │  [                                                  ]   │   │
│  │                                                         │   │
│  │  Тип голосування *                                      │   │
│  │  ○ Так/Ні (binary)                                     │   │
│  │  ○ Вибір одного варіанту (multiple_choice)             │   │
│  │  ○ Ранжування (ranked)                                 │   │
│  │  ○ Схвалення кількох (approval)                        │   │
│  │                                                         │   │
│  │  Прозорість *                                           │   │
│  │  ○ 🔒 Анонімне — голоси приховані                      │   │
│  │  ○ 👁️ Публічне — голоси видно всім                     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  STEP 2: Options (for multiple_choice)                         │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  Варіант 1 *  [                              ] [×]      │   │
│  │  Варіант 2 *  [                              ] [×]      │   │
│  │  Варіант 3    [                              ] [×]      │   │
│  │  [+ Додати варіант]                                     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  STEP 3: Rules                                                  │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  Кворум (%)           [ 50 ]                            │   │
│  │  Необхідна більшість  [ 50 ]%                          │   │
│  │                                                         │   │
│  │  Хто може голосувати:                                   │   │
│  │  ☑️ Повноправні члени                                  │   │
│  │  ☐ Тихі члени                                          │   │
│  │  ☐ Лідери груп                                         │   │
│  │                                                         │   │
│  │  Область (залишити пустим для всіх):                   │   │
│  │  [ Всі області                              ▼]         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  STEP 4: Schedule                                               │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  Початок *    [25.12.2024] [09:00]                     │   │
│  │  Завершення * [31.12.2024] [23:59]                     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  STEP 5: Attachments                                            │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  [📄 Завантажити документ]                             │   │
│  │  Положення_про_праймеріз.pdf                           │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  [Зберегти як чернетку]        [ОПУБЛІКУВАТИ ГОЛОСУВАННЯ]      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 10.2 Member Management

```
Admin Dashboard → Members → Search/Filter

┌─────────────────────────────────────────────────────────────────┐
│ MEMBER MANAGEMENT                                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  [Search: name, email, phone]  [Role ▼]  [Oblast ▼]  [Status ▼]│
│                                                                 │
│  ┌────┬─────────────────┬──────────┬─────────┬────────┬──────┐ │
│  │ ID │ Ім'я            │ Роль     │ Область │ Статус │ •••  │ │
│  ├────┼─────────────────┼──────────┼─────────┼────────┼──────┤ │
│  │ 01 │ Олександр П.    │ Full     │ Київ    │ Active │ [•••]│ │
│  │ 02 │ Марія К.        │ Leader   │ Харків  │ Active │ [•••]│ │
│  │ 03 │ Іван С.         │ Silent   │ Львів   │ Active │ [•••]│ │
│  │ 04 │ Петро В.        │ Prospect │ Одеса   │ Pending│ [•••]│ │
│  └────┴─────────────────┴──────────┴─────────┴────────┴──────┘ │
│                                                                 │
│  [•••] Menu:                                                    │
│  • View profile                                                │
│  • Edit role                                                    │
│  • Verify manually                                             │
│  • Suspend account                                             │
│  • View activity log                                           │
│  • Impersonate (support)                                       │
│                                                                 │
│  [← Prev]  Page 1 of 456  [Next →]    [Export CSV]             │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 10.3 Analytics Dashboard

```
┌─────────────────────────────────────────────────────────────────┐
│ 📊 ANALYTICS                                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Date Range: [Last 30 days ▼]                   [Export Report] │
│                                                                 │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐           │
│  │  4,569  │  │  +247   │  │   67%   │  │   89%   │           │
│  │  Total  │  │  This   │  │ Active  │  │Verified │           │
│  │ Members │  │  Month  │  │  Rate   │  │ Members │           │
│  └─────────┘  └─────────┘  └─────────┘  └─────────┘           │
│                                                                 │
│  GROWTH CHART                                                   │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ ▲                                            ___--‾‾    │   │
│  │ │                                    ___--‾‾‾           │   │
│  │ │                            ___--‾‾‾                   │   │
│  │ │                    ___--‾‾‾                           │   │
│  │ │            ___--‾‾‾                                   │   │
│  │ │    ___--‾‾‾                                           │   │
│  │ │--‾‾                                                   │   │
│  │ └──────────────────────────────────────────────────► t │   │
│  │   Nov 23                                      Dec 23    │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  REGIONAL MAP                    TOP RECRUITERS                │
│  ┌────────────────────────┐     ┌────────────────────────┐    │
│  │   [Ukraine Map with    │     │ 1. Олександр П. - 156  │    │
│  │    heat density]       │     │ 2. Марія К.     - 134  │    │
│  │                        │     │ 3. Іван С.      - 98   │    │
│  │   Darker = more        │     │ 4. Петро В.     - 87   │    │
│  │   members              │     │ 5. Ольга М.     - 76   │    │
│  └────────────────────────┘     └────────────────────────┘    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 11. Notifications

### 11.1 Notification Types & Triggers

| Type | Trigger | Channels |
|------|---------|----------|
| `vote` | New vote created | Push, Email, In-app |
| `vote_ending` | Vote ends in 24h | Push, Email |
| `vote_result` | Vote closed | Push, Email, In-app |
| `event` | New event created | Push, Email, In-app |
| `event_reminder` | Event in 24h/1h | Push, Email |
| `task` | Task assigned | Push, In-app |
| `task_due` | Task due in 24h | Push |
| `referral` | Referral joined | Push, In-app |
| `referral_paid` | Referral paid | Push, In-app |
| `achievement` | Badge earned | Push, In-app |
| `challenge` | Challenge started/ended | Push, In-app |
| `membership` | Payment due/failed | Email, Push |
| `system` | Important announcements | All |

### 11.2 Notification Center

```
┌─────────────────────────────────────────────────────────────────┐
│ 🔔 СПОВІЩЕННЯ                                    [Mark all read]│
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  СЬОГОДНІ                                                      │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 🗳️ Нове голосування                           5 хв тому│   │
│  │    "Затвердження Положення про праймеріз"              │   │
│  │    Завершується: 25 грудня                   [Голосувати]│   │
│  ├─────────────────────────────────────────────────────────┤   │
│  │ 🎉 Новий реферал!                             2 год тому│   │
│  │    Марія К. приєдналась за вашим посиланням           │   │
│  │    +25 балів                                           │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ВЧОРА                                                         │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 📅 Нагадування про подію                      вчора     │   │
│  │    "Онлайн-зустріч Київського осередку" завтра о 19:00 │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  [Завантажити більше]                                          │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 12. Error States

### 12.1 Common Error Screens

```
┌─────────────────────────────────────────────────────────────────┐
│ 404 - NOT FOUND                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│           🔍                                                    │
│                                                                 │
│     Сторінку не знайдено                                       │
│                                                                 │
│     Сторінка, яку ви шукаєте, не існує                        │
│     або була переміщена.                                       │
│                                                                 │
│     [← На головну]                                             │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ 403 - FORBIDDEN                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│           🔒                                                    │
│                                                                 │
│     Доступ заборонено                                          │
│                                                                 │
│     У вас немає прав для перегляду цієї сторінки.             │
│                                                                 │
│     [← Повернутись]  [Зв'язатись з підтримкою]                │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ 500 - SERVER ERROR                                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│           ⚠️                                                    │
│                                                                 │
│     Щось пішло не так                                          │
│                                                                 │
│     Ми вже працюємо над виправленням.                         │
│     Спробуйте оновити сторінку.                               │
│                                                                 │
│     [Оновити сторінку]                                         │
│                                                                 │
│     Error ID: abc123 (для підтримки)                          │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 12.2 Form Validation Errors

```
┌─────────────────────────────────────────────────────────────────┐
│ INLINE VALIDATION                                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📧 Email *                                                     │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ invalid@email                                    ❌     │   │
│  └─────────────────────────────────────────────────────────┘   │
│  ⚠️ Введіть коректну email адресу                             │
│                                                                 │
│  📱 Телефон                                                     │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ +380 XX XXX XX XX                                ✓      │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 12.3 Payment Errors

```
┌─────────────────────────────────────────────────────────────────┐
│ PAYMENT FAILED                                                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│           ❌                                                    │
│                                                                 │
│     Оплату не вдалось провести                                 │
│                                                                 │
│     Причина: Недостатньо коштів на картці                     │
│                                                                 │
│     Що робити:                                                 │
│     • Перевірте баланс картки                                 │
│     • Спробуйте іншу картку                                   │
│     • Зверніться до банку                                     │
│                                                                 │
│     [Спробувати знову]  [Інший спосіб оплати]                 │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## Quick Reference

### User Status Transitions

```
                    ┌─────────────┐
                    │   PENDING   │
                    └──────┬──────┘
                           │
              ┌────────────┼────────────┐
              │            │            │
              ▼            ▼            ▼
       ┌──────────┐ ┌──────────┐ ┌──────────┐
       │  ACTIVE  │ │ SUSPENDED│ │  DELETED │
       └────┬─────┘ └────┬─────┘ └──────────┘
            │            │
            └─────┬──────┘
                  │
            ┌─────▼─────┐
            │  CHURNED  │ (membership expired)
            └───────────┘
```

### Role Upgrade Path

```
free_viewer → prospect → silent_member → full_member
                                              │
                         ┌────────────────────┼────────────────────┐
                         ▼                    ▼                    ▼
                   group_leader        regional_leader          admin
                                                                  │
                                                                  ▼
                                                            super_admin
```

---

**Reference Files:**
- PRD: `docs/PRD_merezha.md`
- Database: `docs/DATABASE_SCHEMA.md`
- Technical: `docs/TECHNICAL_SPEC.md`

---

*"ГУРТУЄМОСЬ, ЩОБ ВПЛИВАТИ!"*
